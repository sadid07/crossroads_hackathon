{"ast":null,"code":"import _defineProperty from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";import{Button,Card,Dimmer,Divider,Form,Grid,Header,Image,Label,Loader,Menu,Message,Segment,Select,Table}from\"semantic-ui-react\";import{addressCreateURL,addressUpdateURL}from\"../constants\";import{authAxios}from\"../utils\";var UPDATE_FORM=\"UPDATE_FORM\";var CREATE_FORM=\"CREATE_FORM\";var AddressForm=/*#__PURE__*/function(_React$Component){_inherits(AddressForm,_React$Component);var _super=_createSuper(AddressForm);function AddressForm(){var _this;_classCallCheck(this,AddressForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null,loading:false,formData:{address_type:\"\",apartment_address:\"\",country:\"\",default:false,id:\"\",street_address:\"\",user:1,zip:\"\"},saving:false,success:false};_this.handleToggleDefault=function(){var formData=_this.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},{default:!formData.default});_this.setState({formData:updatedFormdata});};_this.handleChange=function(e){var formData=_this.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value));_this.setState({formData:updatedFormdata});};_this.handleSelectChange=function(e,_ref){var name=_ref.name,value=_ref.value;var formData=_this.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value));_this.setState({formData:updatedFormdata});};_this.handleSubmit=function(e){_this.setState({saving:true});e.preventDefault();var formType=_this.props.formType;if(formType===UPDATE_FORM){_this.handleUpdateAddress();}else{_this.handleCreateAddress();}};_this.handleCreateAddress=function(){var _this$props=_this.props,userID=_this$props.userID,activeItem=_this$props.activeItem;console.log(_this.props,'.///////////////////////');var formData=_this.state.formData;authAxios.post(addressCreateURL,_objectSpread(_objectSpread({},formData),{},{user:userID,address_type:activeItem===\"billingAddress\"?\"B\":\"S\"})).then(function(res){_this.setState({saving:false,success:true,formData:{default:false}});_this.props.callback();}).catch(function(err){_this.setState({error:err});});};_this.handleUpdateAddress=function(){var _this$props2=_this.props,userID=_this$props2.userID,activeItem=_this$props2.activeItem;var formData=_this.state.formData;console.log(_this.props,'.///////////////////////');authAxios.put(addressUpdateURL(formData.id),_objectSpread(_objectSpread({},formData),{},{user:userID,address_type:activeItem===\"billingAddress\"?\"B\":\"S\"})).then(function(res){_this.setState({saving:false,success:true,formData:{default:false}});_this.props.callback();}).catch(function(err){_this.setState({error:err});});};return _this;}_createClass(AddressForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props3=this.props,address=_this$props3.address,formType=_this$props3.formType;if(formType===UPDATE_FORM){this.setState({formData:address});}}},{key:\"render\",value:function render(){var countries=this.props.countries;var _this$state=this.state,error=_this$state.error,formData=_this$state.formData,success=_this$state.success,saving=_this$state.saving;return/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,success:success,error:error},/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"street_address\",placeholder:\"Street address\",onChange:this.handleChange,value:formData.street_address}),/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"apartment_address\",placeholder:\"Apartment address\",onChange:this.handleChange,value:formData.apartment_address}),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Select,{loading:countries.length<1,fluid:true,clearable:true,search:true,options:countries,name:\"country\",placeholder:\"Country\",onChange:this.handleSelectChange,value:formData.country})),/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"zip\",placeholder:\"Zip code\",onChange:this.handleChange,value:formData.zip}),/*#__PURE__*/React.createElement(Form.Checkbox,{name:\"default\",label:\"Make this the default address?\",onChange:this.handleToggleDefault,checked:formData.default}),success&&/*#__PURE__*/React.createElement(Message,{success:true,header:\"Success!\",content:\"Your address was saved\"}),error&&/*#__PURE__*/React.createElement(Message,{error:true,header:\"There was an error\",content:JSON.stringify(error)}),/*#__PURE__*/React.createElement(Form.Button,{disabled:saving,loading:saving,primary:true},\"Save\"));}}]);return AddressForm;}(React.Component);export default AddressForm;","map":{"version":3,"sources":["/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/src/containers/AddressForm.js"],"names":["React","connect","Redirect","Button","Card","Dimmer","Divider","Form","Grid","Header","Image","Label","Loader","Menu","Message","Segment","Select","Table","addressCreateURL","addressUpdateURL","authAxios","UPDATE_FORM","CREATE_FORM","AddressForm","state","error","loading","formData","address_type","apartment_address","country","default","id","street_address","user","zip","saving","success","handleToggleDefault","updatedFormdata","setState","handleChange","e","target","name","value","handleSelectChange","handleSubmit","preventDefault","formType","props","handleUpdateAddress","handleCreateAddress","userID","activeItem","console","log","post","then","res","callback","catch","err","put","address","countries","length","JSON","stringify","Component"],"mappings":"mlCACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAEA,OACIC,MADJ,CAEIC,IAFJ,CAGIC,MAHJ,CAIIC,OAJJ,CAKIC,IALJ,CAMIC,IANJ,CAOIC,MAPJ,CAQIC,KARJ,CASIC,KATJ,CAUIC,MAVJ,CAWIC,IAXJ,CAYIC,OAZJ,CAaIC,OAbJ,CAcIC,MAdJ,CAeIC,KAfJ,KAgBO,mBAhBP,CAkBA,OACIC,gBADJ,CAEIC,gBAFJ,KAIO,cAJP,CAKA,OAASC,SAAT,KAA0B,UAA1B,CAEA,GAAMC,CAAAA,WAAW,CAAG,aAApB,CACA,GAAMC,CAAAA,WAAW,CAAG,aAApB,C,GAEMC,CAAAA,W,2VACFC,K,CAAQ,CACJC,KAAK,CAAE,IADH,CAEJC,OAAO,CAAE,KAFL,CAGJC,QAAQ,CAAE,CACNC,YAAY,CAAE,EADR,CAENC,iBAAiB,CAAE,EAFb,CAGNC,OAAO,CAAE,EAHH,CAINC,OAAO,CAAE,KAJH,CAKNC,EAAE,CAAE,EALE,CAMNC,cAAc,CAAE,EANV,CAONC,IAAI,CAAE,CAPA,CAQNC,GAAG,CAAE,EARC,CAHN,CAaJC,MAAM,CAAE,KAbJ,CAcJC,OAAO,CAAE,KAdL,C,OAwBRC,mB,CAAsB,UAAM,IAChBX,CAAAA,QADgB,CACH,MAAKH,KADF,CAChBG,QADgB,CAExB,GAAMY,CAAAA,eAAe,gCACdZ,QADc,MAEjBI,OAAO,CAAE,CAACJ,QAAQ,CAACI,OAFF,EAArB,CAIA,MAAKS,QAAL,CAAc,CACVb,QAAQ,CAAEY,eADA,CAAd,EAGH,C,OAEDE,Y,CAAe,SAAAC,CAAC,CAAI,IACRf,CAAAA,QADQ,CACK,MAAKH,KADV,CACRG,QADQ,CAEhB,GAAMY,CAAAA,eAAe,gCACdZ,QADc,wBAEhBe,CAAC,CAACC,MAAF,CAASC,IAFO,CAEAF,CAAC,CAACC,MAAF,CAASE,KAFT,EAArB,CAIA,MAAKL,QAAL,CAAc,CACVb,QAAQ,CAAEY,eADA,CAAd,EAGH,C,OAEDO,kB,CAAqB,SAACJ,CAAD,MAAwB,IAAlBE,CAAAA,IAAkB,MAAlBA,IAAkB,CAAZC,KAAY,MAAZA,KAAY,IACjClB,CAAAA,QADiC,CACpB,MAAKH,KADe,CACjCG,QADiC,CAEzC,GAAMY,CAAAA,eAAe,gCACdZ,QADc,wBAEhBiB,IAFgB,CAETC,KAFS,EAArB,CAIA,MAAKL,QAAL,CAAc,CACVb,QAAQ,CAAEY,eADA,CAAd,EAGH,C,OAEDQ,Y,CAAe,SAAAL,CAAC,CAAI,CAChB,MAAKF,QAAL,CAAc,CAAEJ,MAAM,CAAE,IAAV,CAAd,EACAM,CAAC,CAACM,cAAF,GAFgB,GAGRC,CAAAA,QAHQ,CAGK,MAAKC,KAHV,CAGRD,QAHQ,CAIhB,GAAIA,QAAQ,GAAK5B,WAAjB,CAA8B,CAC1B,MAAK8B,mBAAL,GACH,CAFD,IAEO,CACH,MAAKC,mBAAL,GACH,CACJ,C,OAEDA,mB,CAAsB,UAAM,iBACO,MAAKF,KADZ,CAChBG,MADgB,aAChBA,MADgB,CACRC,UADQ,aACRA,UADQ,CAExBC,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAjB,CAAuB,0BAAvB,EAFwB,GAGhBvB,CAAAA,QAHgB,CAGH,MAAKH,KAHF,CAGhBG,QAHgB,CAIxBP,SAAS,CACJqC,IADL,CACUvC,gBADV,gCAEWS,QAFX,MAGQO,IAAI,CAAEmB,MAHd,CAIQzB,YAAY,CAAE0B,UAAU,GAAK,gBAAf,CAAkC,GAAlC,CAAwC,GAJ9D,IAMKI,IANL,CAMU,SAAAC,GAAG,CAAI,CACT,MAAKnB,QAAL,CAAc,CACVJ,MAAM,CAAE,KADE,CAEVC,OAAO,CAAE,IAFC,CAGVV,QAAQ,CAAE,CAAEI,OAAO,CAAE,KAAX,CAHA,CAAd,EAKA,MAAKmB,KAAL,CAAWU,QAAX,GACH,CAbL,EAcKC,KAdL,CAcW,SAAAC,GAAG,CAAI,CACV,MAAKtB,QAAL,CAAc,CAAEf,KAAK,CAAEqC,GAAT,CAAd,EACH,CAhBL,EAiBH,C,OAEDX,mB,CAAsB,UAAM,kBACO,MAAKD,KADZ,CAChBG,MADgB,cAChBA,MADgB,CACRC,UADQ,cACRA,UADQ,IAEhB3B,CAAAA,QAFgB,CAEH,MAAKH,KAFF,CAEhBG,QAFgB,CAGxB4B,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAjB,CAAwB,0BAAxB,EAEA9B,SAAS,CACJ2C,GADL,CACS5C,gBAAgB,CAACQ,QAAQ,CAACK,EAAV,CADzB,gCAEWL,QAFX,MAGQO,IAAI,CAAEmB,MAHd,CAIQzB,YAAY,CAAE0B,UAAU,GAAK,gBAAf,CAAkC,GAAlC,CAAwC,GAJ9D,IAMKI,IANL,CAMU,SAAAC,GAAG,CAAI,CACT,MAAKnB,QAAL,CAAc,CACVJ,MAAM,CAAE,KADE,CAEVC,OAAO,CAAE,IAFC,CAGVV,QAAQ,CAAE,CAAEI,OAAO,CAAE,KAAX,CAHA,CAAd,EAKA,MAAKmB,KAAL,CAAWU,QAAX,GACH,CAbL,EAcKC,KAdL,CAcW,SAAAC,GAAG,CAAI,CACV,MAAKtB,QAAL,CAAc,CAAEf,KAAK,CAAEqC,GAAT,CAAd,EACH,CAhBL,EAiBH,C,oGAhGmB,kBACc,KAAKZ,KADnB,CACRc,OADQ,cACRA,OADQ,CACCf,QADD,cACCA,QADD,CAEhB,GAAIA,QAAQ,GAAK5B,WAAjB,CAA8B,CAC1B,KAAKmB,QAAL,CAAc,CAAEb,QAAQ,CAAEqC,OAAZ,CAAd,EACH,CACJ,C,uCA6FQ,IACGC,CAAAA,SADH,CACiB,KAAKf,KADtB,CACGe,SADH,iBAEwC,KAAKzC,KAF7C,CAEGC,KAFH,aAEGA,KAFH,CAEUE,QAFV,aAEUA,QAFV,CAEoBU,OAFpB,aAEoBA,OAFpB,CAE6BD,MAF7B,aAE6BA,MAF7B,CAGL,mBACI,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKW,YAArB,CAAmC,OAAO,CAAEV,OAA5C,CAAqD,KAAK,CAAEZ,KAA5D,eACI,oBAAC,IAAD,CAAM,KAAN,EACI,QAAQ,KADZ,CAEI,IAAI,CAAC,gBAFT,CAGI,WAAW,CAAC,gBAHhB,CAII,QAAQ,CAAE,KAAKgB,YAJnB,CAKI,KAAK,CAAEd,QAAQ,CAACM,cALpB,EADJ,cAQI,oBAAC,IAAD,CAAM,KAAN,EACI,QAAQ,KADZ,CAEI,IAAI,CAAC,mBAFT,CAGI,WAAW,CAAC,mBAHhB,CAII,QAAQ,CAAE,KAAKQ,YAJnB,CAKI,KAAK,CAAEd,QAAQ,CAACE,iBALpB,EARJ,cAeI,oBAAC,IAAD,CAAM,KAAN,EAAY,QAAQ,KAApB,eACI,oBAAC,MAAD,EACI,OAAO,CAAEoC,SAAS,CAACC,MAAV,CAAmB,CADhC,CAEI,KAAK,KAFT,CAGI,SAAS,KAHb,CAII,MAAM,KAJV,CAKI,OAAO,CAAED,SALb,CAMI,IAAI,CAAC,SANT,CAOI,WAAW,CAAC,SAPhB,CAQI,QAAQ,CAAE,KAAKnB,kBARnB,CASI,KAAK,CAAEnB,QAAQ,CAACG,OATpB,EADJ,CAfJ,cA4BI,oBAAC,IAAD,CAAM,KAAN,EACI,QAAQ,KADZ,CAEI,IAAI,CAAC,KAFT,CAGI,WAAW,CAAC,UAHhB,CAII,QAAQ,CAAE,KAAKW,YAJnB,CAKI,KAAK,CAAEd,QAAQ,CAACQ,GALpB,EA5BJ,cAmCI,oBAAC,IAAD,CAAM,QAAN,EACI,IAAI,CAAC,SADT,CAEI,KAAK,CAAC,gCAFV,CAGI,QAAQ,CAAE,KAAKG,mBAHnB,CAII,OAAO,CAAEX,QAAQ,CAACI,OAJtB,EAnCJ,CAyCKM,OAAO,eACJ,oBAAC,OAAD,EAAS,OAAO,KAAhB,CAAiB,MAAM,CAAC,UAAxB,CAAmC,OAAO,CAAC,wBAA3C,EA1CR,CA4CKZ,KAAK,eACF,oBAAC,OAAD,EACI,KAAK,KADT,CAEI,MAAM,CAAC,oBAFX,CAGI,OAAO,CAAE0C,IAAI,CAACC,SAAL,CAAe3C,KAAf,CAHb,EA7CR,cAmDI,oBAAC,IAAD,CAAM,MAAN,EAAa,QAAQ,CAAEW,MAAvB,CAA+B,OAAO,CAAEA,MAAxC,CAAgD,OAAO,KAAvD,SAnDJ,CADJ,CAyDH,C,yBAhLqBpC,KAAK,CAACqE,S,EAqLhC,cAAe9C,CAAAA,WAAf","sourcesContent":["\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport {\n    Button,\n    Card,\n    Dimmer,\n    Divider,\n    Form,\n    Grid,\n    Header,\n    Image,\n    Label,\n    Loader,\n    Menu,\n    Message,\n    Segment,\n    Select,\n    Table\n} from \"semantic-ui-react\";\n\nimport {\n    addressCreateURL,\n    addressUpdateURL,\n\n} from \"../constants\";\nimport { authAxios } from \"../utils\";\n\nconst UPDATE_FORM = \"UPDATE_FORM\";\nconst CREATE_FORM = \"CREATE_FORM\";\n\nclass AddressForm extends React.Component {\n    state = {\n        error: null,\n        loading: false,\n        formData: {\n            address_type: \"\",\n            apartment_address: \"\",\n            country: \"\",\n            default: false,\n            id: \"\",\n            street_address: \"\",\n            user: 1,\n            zip: \"\"\n        },\n        saving: false,\n        success: false\n    };\n\n    componentDidMount() {\n        const { address, formType } = this.props;\n        if (formType === UPDATE_FORM) {\n            this.setState({ formData: address });\n        }\n    }\n\n    handleToggleDefault = () => {\n        const { formData } = this.state;\n        const updatedFormdata = {\n            ...formData,\n            default: !formData.default\n        };\n        this.setState({\n            formData: updatedFormdata\n        });\n    };\n\n    handleChange = e => {\n        const { formData } = this.state;\n        const updatedFormdata = {\n            ...formData,\n            [e.target.name]: e.target.value\n        };\n        this.setState({\n            formData: updatedFormdata\n        });\n    };\n\n    handleSelectChange = (e, { name, value }) => {\n        const { formData } = this.state;\n        const updatedFormdata = {\n            ...formData,\n            [name]: value\n        };\n        this.setState({\n            formData: updatedFormdata\n        });\n    };\n\n    handleSubmit = e => {\n        this.setState({ saving: true });\n        e.preventDefault();\n        const { formType } = this.props;\n        if (formType === UPDATE_FORM) {\n            this.handleUpdateAddress();\n        } else {\n            this.handleCreateAddress();\n        }\n    };\n\n    handleCreateAddress = () => {\n        const { userID, activeItem } = this.props;\n        console.log(this.props,'.///////////////////////')\n        const { formData } = this.state;\n        authAxios\n            .post(addressCreateURL, {\n                ...formData,\n                user: userID,\n                address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\"\n            })\n            .then(res => {\n                this.setState({\n                    saving: false,\n                    success: true,\n                    formData: { default: false }\n                });\n                this.props.callback();\n            })\n            .catch(err => {\n                this.setState({ error: err });\n            });\n    };\n\n    handleUpdateAddress = () => {\n        const { userID, activeItem } = this.props;\n        const { formData } = this.state;\n        console.log(this.props, './//////////////////////')\n\n        authAxios\n            .put(addressUpdateURL(formData.id), {\n                ...formData,\n                user: userID,\n                address_type: activeItem === \"billingAddress\" ? \"B\" : \"S\"\n            })\n            .then(res => {\n                this.setState({\n                    saving: false,\n                    success: true,\n                    formData: { default: false }\n                });\n                this.props.callback();\n            })\n            .catch(err => {\n                this.setState({ error: err });\n            });\n    };\n \n    render() {\n        const { countries } = this.props;\n        const { error, formData, success, saving } = this.state;\n        return (\n            <Form onSubmit={this.handleSubmit} success={success} error={error}>\n                <Form.Input\n                    required\n                    name=\"street_address\"\n                    placeholder=\"Street address\"\n                    onChange={this.handleChange}\n                    value={formData.street_address}\n                />\n                <Form.Input\n                    required\n                    name=\"apartment_address\"\n                    placeholder=\"Apartment address\"\n                    onChange={this.handleChange}\n                    value={formData.apartment_address}\n                />\n                <Form.Field required>\n                    <Select\n                        loading={countries.length < 1}\n                        fluid\n                        clearable\n                        search\n                        options={countries}\n                        name=\"country\"\n                        placeholder=\"Country\"\n                        onChange={this.handleSelectChange}\n                        value={formData.country}\n                    />\n                </Form.Field>\n                <Form.Input\n                    required\n                    name=\"zip\"\n                    placeholder=\"Zip code\"\n                    onChange={this.handleChange}\n                    value={formData.zip}\n                />\n                <Form.Checkbox\n                    name=\"default\"\n                    label=\"Make this the default address?\"\n                    onChange={this.handleToggleDefault}\n                    checked={formData.default}\n                />\n                {success && (\n                    <Message success header=\"Success!\" content=\"Your address was saved\" />\n                )}\n                {error && (\n                    <Message\n                        error\n                        header=\"There was an error\"\n                        content={JSON.stringify(error)}\n                    />\n                )}\n                <Form.Button disabled={saving} loading={saving} primary>\n                    Save\n        </Form.Button>\n            </Form>\n        );\n    }\n}\n\n\n\nexport default AddressForm;\n\n\n"]},"metadata":{},"sourceType":"module"}