{"ast":null,"code":"import _classCallCheck from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Container,Divider,Dropdown,Grid,Header,Image,List,Menu,Segment,Item,Icon}from\"semantic-ui-react\";import\"./Header.css\";import{Link,withRouter,NavLink}from\"react-router-dom\";import{connect}from\"react-redux\";import{logout}from\"../store/actions/auth\";import{fetchCart}from\"../store/actions/cart\";import SearchIcon from\"@material-ui/icons/Search\";import LocationOnOutlinedIcon from\"@material-ui/icons/LocationOnOutlined\";import{useStateValue}from\"./StateProvider\";import ShoppingBasketIcon from\"@material-ui/icons/ShoppingBasket\";import{Button}from'react-bootstrap';import HeaderBottom from\"./HeaderBottom\";import Sidebar from\"./Sidebar\";import PhoneHomepageLayout from'./PhoneHomepageLayout';import HomepageLayout from\"./Home\";import\"./Home.css\";import SidebarPhone from\"./SidebarPhone\";import axios from'axios';import DeskTopHomepageLayoutProduct from'./DeskTopHomepageLayoutProduct';import $ from\"jquery\";import{endpoint}from\"../constants\";import{colors}from\"@material-ui/core\";var SearchbarDropdown=/*#__PURE__*/function(_Component){_inherits(SearchbarDropdown,_Component);var _super=_createSuper(SearchbarDropdown);_createClass(SearchbarDropdown,[{key:\"componentDidMount\",value:function componentDidMount(){// localStorage.removeItem(\"active\");\n}}]);function SearchbarDropdown(props){var _this;_classCallCheck(this,SearchbarDropdown);var ac=localStorage.getItem('active');console.log(ac,'...............................');_this=_super.call(this,props);_this.fetchSearchResults=function(){var updatedPageNo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var query=arguments.length>1?arguments[1]:undefined;var pageNumber=updatedPageNo?\"&page=\".concat(updatedPageNo):'';var searchUrl=\"\".concat(endpoint,\"/search/?page=\").concat(pageNumber,\"&search=\").concat(query);if(_this.cancel){_this.cancel.cancel();}_this.cancel=axios.CancelToken.source();axios.get(searchUrl,{cancelToken:_this.cancel.token}).then(function(res){_this.setState({results:res.data.results,loading:false});console.log(res.data.results);}).catch(function(error){if(axios.isCancel(error)||error){_this.setState({loading:false,message:'Failed to fetch the data. Please check network'});}});};_this.handleChange=function(e){_this.setState({loading:true});var query=e.target.value;var remText=query.replace(/\\s/g,\"\");var length=remText.length;if(!length){_this.setState({query:query,results:{},message:'',totalPages:0,totalResults:0});}else{_this.setState({query:query,loading:true,message:''},function(){_this.fetchSearchResults(1,query);});}var results=_this.state.results;var d=$('.list-group-item').attr('id');if(!_this.results){_this.setState({results:[]});}document.getElementById(\"show\").style.display='flex';document.getElementById(\"show\").style.height='0px';};_this.ActiveChange=function(){var active=_this.state.active;console.log(\"ActiveChange\");$('.home').on(\"click\",function(){document.getElementById(\"show\").style.display='none';});};_this.state={query:'',results:[],data:\"\",loading:false,message:'',totalResults:0,totalPages:0,currentPageNo:0,active:\"\"};_this.cancel='';return _this;}_createClass(SearchbarDropdown,[{key:\"render\",value:function render(){var _this$state=this.state,query=_this$state.query,results=_this$state.results,active=_this$state.active;return/*#__PURE__*/ (// style = {{ borderRadius: \"0 4px 4px 0 \", height: 40, width: 40, background: \"red\", backgroundColor: \"#ffc266\", paddingLeft: '8px', paddingTop: '2px', paddingBottom: '2px' }}\nReact.createElement(React.Fragment,null,\"              \",this.ActiveChange(this),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"0px\",flex:1,border:'none',width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"0px\",display:\"flex\",border:'none',width:'100%'}},/*#__PURE__*/React.createElement(\"input\",{class:\"form-control\",type:\"text\",\"aria-label\":\"default input example\",placeholder:\"Search Orbitplug ):\",onChange:this.handleChange,value:query,name:\"query\",style:{padding:\"20px\",height:\"16px\",border:'none',borderRadius:\"0px\"}}),/*#__PURE__*/React.createElement(SearchIcon,{style:{borderRadius:\"0 4px 4px 0 \",height:40,width:40,background:\"red\",backgroundColor:\"#ffc266\",paddingLeft:'8px',paddingTop:'2px',paddingBottom:'2px'}})),/*#__PURE__*/React.createElement(\"ul\",{id:\"show\",class:\"list-group\",style:{flex:1,border:'none',width:'100%'}},results&&results.map(function(v){return/*#__PURE__*/React.createElement(\"li\",{class:\"list-group-item\",style:{padding:'4px'}},/*#__PURE__*/React.createElement(\"img\",{src:v.image,class:\"rounded float-right\",style:{width:\"60px\"},alt:\"...\"}),/*#__PURE__*/React.createElement(\"p\",null,v.title));})))));}}]);return SearchbarDropdown;}(Component);export default SearchbarDropdown;","map":{"version":3,"sources":["/home/kawsar/teast/incomeexpensesapi-master (copy)/BorbitplugBackEnd/src/containers/SearchbarDropdown.js"],"names":["React","Component","Container","Divider","Dropdown","Grid","Header","Image","List","Menu","Segment","Item","Icon","Link","withRouter","NavLink","connect","logout","fetchCart","SearchIcon","LocationOnOutlinedIcon","useStateValue","ShoppingBasketIcon","Button","HeaderBottom","Sidebar","PhoneHomepageLayout","HomepageLayout","SidebarPhone","axios","DeskTopHomepageLayoutProduct","$","endpoint","colors","SearchbarDropdown","props","ac","localStorage","getItem","console","log","fetchSearchResults","updatedPageNo","query","pageNumber","searchUrl","cancel","CancelToken","source","get","cancelToken","token","then","res","setState","results","data","loading","catch","error","isCancel","message","handleChange","e","target","value","remText","replace","length","totalPages","totalResults","state","d","attr","document","getElementById","style","display","height","ActiveChange","active","on","currentPageNo","marginTop","flex","border","width","padding","borderRadius","background","backgroundColor","paddingLeft","paddingTop","paddingBottom","map","v","image","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    Container,\n    Divider,\n    Dropdown,\n    Grid,\n    Header,\n    Image,\n    List,\n    Menu,\n    Segment,\n    Item,\n    Icon,\n\n} from \"semantic-ui-react\";\nimport \"./Header.css\";\nimport { Link, withRouter, NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/cart\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport LocationOnOutlinedIcon from \"@material-ui/icons/LocationOnOutlined\";\nimport { useStateValue } from \"./StateProvider\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport { Button } from 'react-bootstrap';\nimport HeaderBottom from \"./HeaderBottom\"\nimport Sidebar from \"./Sidebar\"\nimport PhoneHomepageLayout from './PhoneHomepageLayout'\nimport HomepageLayout from \"./Home\"\nimport \"./Home.css\"\nimport SidebarPhone from \"./SidebarPhone\"\nimport axios from 'axios'\nimport DeskTopHomepageLayoutProduct from './DeskTopHomepageLayoutProduct'\nimport $ from \"jquery\";\nimport { endpoint } from \"../constants\";\nimport { colors } from \"@material-ui/core\";\n\nclass SearchbarDropdown extends Component {\n    componentDidMount() {\n        // localStorage.removeItem(\"active\");\n      \n\n    }\n     \n    constructor(props) {\n        var ac = localStorage.getItem('active')\n        console.log(ac, '...............................')\n        super(props);\n\n        this.state = {\n            query: '',\n            results: [],\n            data:\"\",\n            loading: false,\n            message: '',\n            totalResults: 0,\n            totalPages: 0,\n            currentPageNo: 0,\n            active: \"\",\n        };\n\n        this.cancel = '';\n    }\n\n    fetchSearchResults = (updatedPageNo = '', query) => {\n        const pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : '';\n        const searchUrl = `${endpoint}/search/?page=${pageNumber}&search=${query}`;\n        if (this.cancel) {\n            this.cancel.cancel();\n        }\n\n        this.cancel = axios.CancelToken.source();\n\n        axios.get(searchUrl, {\n            cancelToken: this.cancel.token\n        })\n            .then(res => {\n                this.setState({ results: res.data.results, loading: false });\n                console.log(res.data.results)\n            })\n            .catch(error => {\n                if (axios.isCancel(error) || error) {\n                    this.setState({\n                        loading: false,\n                        message: 'Failed to fetch the data. Please check network'\n                    })\n                }\n            })\n\n\n    };\n\n\n\n\n    handleChange = e => {\n\n        this.setState({ loading: true })\n        const query = e.target.value;\n        let remText = query.replace(/\\s/g, \"\")\n        let length = remText.length;\n        if (!length) {\n            this.setState({ query, results: {}, message: '', totalPages: 0, totalResults: 0 });\n        } else {\n            this.setState({ query, loading: true, message: '' }, () => {\n                this.fetchSearchResults(1, query);\n            });\n        }\n\n        const {results } = this.state;\n        var d = $('.list-group-item').attr('id')\n        if (!this.results) {\n\n            this.setState({ results: [] });\n\n\n        }\n\n        document.getElementById(\"show\").style.display = 'flex';\n        document.getElementById(\"show\").style.height = '0px';\n\n    };\n\n         \n    \n    ActiveChange = () => {\n\n        const { active } = this.state;\n\n        console.log(\"ActiveChange\")\n\n        $('.home').on(\"click\", function () {\n            document.getElementById(\"show\").style.display='none';\n            \n        });\n    }\n\n   \n\n\n    render() {\n     \n        const { query, results,active} = this.state;\n\n\n        return (\n            // style = {{ borderRadius: \"0 4px 4px 0 \", height: 40, width: 40, background: \"red\", backgroundColor: \"#ffc266\", paddingLeft: '8px', paddingTop: '2px', paddingBottom: '2px' }}\n<>              {this.ActiveChange(this)}\n                <div style={{  marginTop:\"0px\", flex: 1, border: 'none', width: '100%' }}>\n                           \n                    <div style={{ marginTop: \"0px\", display: \"flex\", border: 'none', width: '100%' }}>\n                    <input\n                        class=\"form-control\" type=\"text\"\n                        aria-label=\"default input example\"\n                        placeholder='Search Orbitplug ):'\n                        onChange={this.handleChange}\n                        value={query}\n                        name=\"query\"\n                        style={{ padding: \"20px\", height: \"16px\", border: 'none', borderRadius: \"0px\" }}\n\n\n                    />\n\n                        <SearchIcon style={{ borderRadius: \"0 4px 4px 0 \", height: 40, width: 40, background: \"red\", backgroundColor: \"#ffc266\", paddingLeft: '8px', paddingTop: '2px', paddingBottom: '2px' }} />\n\n\n                    </div>\n\n\n\n        \n                <ul id='show' class=\"list-group\" style={{ flex: 1, border: 'none', width: '100%', }}>\n\n                    {results &&\n                        results.map(v => {\n                            return (\n                                <li   class=\"list-group-item\" style={{ padding: '4px' }}>\n                                    <img src={v.image} class=\"rounded float-right\" style={{ width: \"60px\" }} alt=\"...\" />\n                                    <p>\n                                        {v.title}\n\n                                    </p>\n\n                                </li>\n                            );\n\n                        })}\n\n\n                </ul>\n\n\n        </div>\n                    \n                    \n                    \n</>\n           \n                          \n        );\n    }\n}\nexport default SearchbarDropdown;\n"]},"metadata":{},"sourceType":"module"}